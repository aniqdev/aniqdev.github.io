<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="hljs/styles/atom-one-dark-reasonable.min.css">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div class="container">

		<div class="row">
			<h2 class="pb-2 my-5 border-bottom">WP test task</h2>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 font-weight-bold">#</div>
			<div class="col-sm-5 font-weight-bold">Question</div>
			<div class="col-sm-6 font-weight-bold">Answer</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">1.</div>
			<div class="col-sm-5">
				Как в PHP обработать данные, поступившие от клиента, преобразовав все html символы с спецсимволы, убрав пробелы с начала и конца строки, экранировав все спецсимволы?
			</div>
			<div class="col-sm-6">
				Убрать пробелы с начала и конца строки можно с помощью функции trim(). <br>
				преобразовать все html символы с спецсимволы: htmlspecialchars() либо htmlentities().
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">2.</div>
			<div class="col-sm-5">
				Что выведет следующий код и почему:
				<pre>
					<code>
	$a = 1;
	function someFunc1($a) {
		$a++;
	}
	function someFunc2(&$a) {
		$a++;
	}
	someFunc1($a);
	someFunc2($a);
	echo $a;
					</code>
				</pre>
			</div>
			<div class="col-sm-6">
				Выведет: 2. Так как переменная $a передается в someFunc2 по ссылке и каждый вызов <b>someFunc2($a)</b> увеличивает $a на единицу. <br>
				Вызов <b>someFunc1($a)</b> не изменяет внешнюю переменную <b>$a</b> так как она передается в функцию по значению.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">3.</div>
			<div class="col-sm-5">
				Что выведет следующий код и почему:
				<pre>
					<code>
	class A {
		public $prop = 28;
	}
	function someFunc1($a) {
		$a->prop++;
	}
	$a = new A();
	someFunc1($a);
	someFunc1(clone($a));
	echo $a->prop;
					</code>
				</pre>
			</div>
			<div class="col-sm-6">
				Выведет: 29. <br>
				вызов <b>someFunc1($a)</b> увеличит свойство prop на единицу у объекта <b>$a</b> так как объекты передаются внутрь функции по ссылке.
				а <b>someFunc1(clone($a))</b> работает с копией объекта <b>$a</b> и не повлияет на оригинал
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">4.</div>
			<div class="col-sm-5">
				Чем отличается конструктор от обычного метода?
			</div>
			<div class="col-sm-6">
				Конструктор - это один из магических методов класса. Он вызывается во время создания объекта и получает в качестве парметров то что предано при вызове new. <b>$a = new A($param1, $param2, ...)</b>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">5.</div>
			<div class="col-sm-5">
				Чем отличается процедурный подход к программированию от объектно ориентированного? Чем отличается объект от класса?
			</div>
			<div class="col-sm-6">
				Процедурный подход предпологает использования функция, а объектно ориентированный - это использование классов и объектов. <br>
				Объект - это экземпляр класса. На основе класса может может быть создано сколько угодно объектов.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">6.</div>
			<div class="col-sm-5">
				Напишите код, который из произвольной строки оставит только набор чисел (числа могут быть дробными), если их будет несколько в строке - они будут разделены разделителем "/"
			</div>
			<div class="col-sm-6">
				<pre>
					<code>
$str = 'f.f3 3.5f5.s';

function str_get_floats($str = '')
{
	if (preg_match_all('/\d+(\.\d+)?/', $str,$matches)) {
		return implode('/', $matches[0]);
	}
	return '';
}

echo str_get_floats($str); // 3/3.5/5
					</code>
				</pre>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">7.</div>
			<div class="col-sm-5">
				С какими паттернами программирования вы работали?
			</div>
			<div class="col-sm-6">
				Singleton,
				Посредник,
				Observer,
				Decorator,
				Фабрика
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">8.</div>
			<div class="col-sm-5">
				Работали ли в с MVC для php? Если да - опишите в кратце в чем по вашему заключается суть такого подхода.
			</div>
			<div class="col-sm-6">
				Этот паттерн используется во всех популярных фреймворках. Я работал с ним в laravel. <br>
				Суть заключается в разделении кода на модели, представления и контроллеры. <br>
				Представления содержат все верстку. <br>
				Модели отвечаю за сущности, например: посты, пользователи, комментарии и т.д. и взаимодействие с базой данных.
				А контроллеры содержат бизнес логику приложения. Это связующее свено между моделями и представлением.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">9.</div>
			<div class="col-sm-5">
				Какие проблемы могут быть с этим контроллером? http://pastebin.com/Gx6gvLkE
				<pre>
					<code>
class BooksController
{
		/**
		 * @param  string $authorName
		 * @return void
	 */
		public function getAuthorBooksAction($authorName)
		{
				$db = new \PDO(PDO_DSN, PDO_USER, PDO_PASSWORD);
				$books = $db->query('SELECT * FROM books WHERE author_name = ' . $authorName)->fetchAll();
 
				foreach ($books as $book) {
						echo '&lt;h1&gt;' . $book['name'] . '&lt;/h1&gt;';
						echo '&lt;p&gt;' . $book['description'] . '&lt;/p&gt;';
				}
		}
}
					</code>
				</pre>
			</div>
			<div class="col-sm-6">
				Так как это контроллер то используется паттерн MVC. Это означает, что подключение и запрос к базе данных должен быть скрыт в методах модели(в данном случае <b>Book()</b>). А верстка должна находится в файлах представлений, а в контроллере только вызываться нужный файл и передаваться в него данные.
				<pre>
					<code>
	public function getAuthorBooksAction($authorName)
	{
			$books = Book::where('author_name', $authorName)->get();

			return view('books.index', ['books => $books']);
	}
					</code>
				</pre>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">10.</div>
			<div class="col-sm-5">
				Написать функцию, которая получает на вход строку вида: <br>
				{Я помню|Не помню|Какое} чудное {мгновенье|затменье|творенье} <br>
				И возвращает случайное слово из фигурных скобок
			</div>
			<div class="col-sm-6">
				<pre>
					<code>
$str = '{Я помню|Не помню|Какое} чудное {мгновенье|затменье|творенье}.';

function do_choice($str = '')
{
	$line = preg_replace_callback(
		'/{(.*)}/U',
		function ($matches) {
			$choice = explode('|', $matches[1]);
			return $choice[array_rand($choice)];
		},
		$str
	);
	return $line;

}

echo do_choice($str);
					</code>
				</pre>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">11.</div>
			<div class="col-sm-5">
				Есть класс, который умножает 2 числа. Как сделать так, чтоб он умножал модули чисел, при этом не изменяя код класса, интерфейса и строки с выводом результата. Т.е. вызов echo $multiplier->multiply(2, -5); должен вывести 10. http://pastebin.com/ZQDn5gAC
				<pre>
					<code>
// Не менять
interface MultiplierInterface
{
	// Не менять
	public function multiply($x, $y);   
}
 
// Не менять
final class Multiplier implements MultiplierInterface
{
	// Не менять
	public function multiply($x, $y)
	{
		return $x * $y;
	}
}
 
$multiplier = new Multiplier();
 
// Не менять
echo $multiplier->multiply(2, -5);
					</code>
				</pre>
			</div>
			<div class="col-sm-6">
				Используем декоратор
				<pre>
					<code>

// Не менять
interface MultiplierInterface
{
	// Не менять
	public function multiply($x, $y);   
}
 
// Не менять
final class Multiplier implements MultiplierInterface
{
	// Не менять
	public function multiply($x, $y)
	{
		return $x * $y;
	}
}

// Декоратор
class MyMultiplierDecorator 
{
	function __construct($object)
	{
		$this->object = $object;
	}

	public function multiply($x, $y)
	{
		// передаем модули чисел
		return $this->object->multiply(abs($x), abs($y));
	}
}

// обернем new Multiplier() в созданный декоратор
$multiplier = new MyMultiplierDecorator(new Multiplier());
 
// Не менять
echo $multiplier->multiply(2, -5);	
					</code>
				</pre>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">12.</div>
			<div class="col-sm-5">
				Есть 2 таблицы: t1 {t1_id, t1_name}, t2 {t2_id, t1_id, t2_name}. Предоставьте 3 варианта запросов выборки данных из обоих таблиц, для которых t1.t1_id = t2.t1_id, и 3 варианта запросов выборки данных для которых t1.t1_id != t2.t1_id
			</div>
			<div class="col-sm-6">
				<pre>
					<code>	
-- данные из двух таблиц где t1.t1_id = t2.t1_id
SELECT * FROM t1
INNER JOIN t2
ON t1.t1_id = t2.t1_id;

-- данные из двух таблиц где t1.t1_id = t2.t1_id
-- плюс данные из t1 где t1.t1_id != t2.t1_id
SELECT * FROM t1
LEFT JOIN t2
ON t1.t1_id = t2.t1_id;

-- данные из двух таблиц где t1.t1_id = t2.t1_id
-- плюс данные из t2 где t1.t1_id != t2.t1_id
SELECT * FROM t1
RIGHT JOIN t2
ON t1.t1_id = t2.t1_id;

-- данные t1 где t1.t1_id != t2.t1_id
-- плюс поля из t2 будут заполнены как null
SELECT * FROM t1
LEFT JOIN t2
ON t1.t1_id = t2.t1_id
WHERE t2.t2_id IS null;

-- данные t2 где t1.t1_id != t2.t1_id
-- плюс поля из t1 будут заполнены как null
SELECT * FROM t1
RIGHT JOIN t2
ON t1.t1_id = t2.t1_id
WHERE t1.t1_id IS null;

-- данные t1 где t1.t1_id != t2.t1_id
SELECT * FROM t1 WHERE NOT EXISTS (SELECT 1 FROM t2 WHERE t1.t1_id = t2.t1_id);

-- данные t2 где t1.t1_id != t2.t1_id
SELECT * FROM t2 WHERE NOT EXISTS (SELECT 1 FROM t1 WHERE t1.t1_id = t2.t1_id);
					</code>
				</pre>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">13.</div>
			<div class="col-sm-5">
				Предложите структуру базы данных для хранения книг, у которых есть названия, цена, описания, автор (авторы), категория (категории)
			</div>
			<div class="col-sm-6">
				Три таблицы для книг, авторов и категорий <br>
				<code>
				books <br>
				-- id<br>
				-- title<br>
				-- price<br>
				-- description<br><br>

				authors<br>
				-- id<br>
				-- name<br><br>

				category<br>
				-- id<br>
				-- name<br><br>
				</code>
				И две связующие таблица так как отношения многое ко многим <br>
				<code>
				book_author<br>
				-- book_id<br>
				-- author_id<br><br>

				book_category<br>
				-- book_id<br>
				-- category_id<br>
			</code>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">14.</div>
			<div class="col-sm-5">
				Для чего используют индексацию в mysql? Какие минусы индексации? Когда ее не стоит использовать?
			</div>
			<div class="col-sm-6">
				Поиск по индексированному полю происходит гораздо быстрее. <br>
				Но минус в том что добавление и обновление данных происходит дольше так как необходимо каждый раз обновлять данные индекса. <br>
				Индексы не стоит использовать если данные в приложении часто изменяются или добавляются. 
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">15.</div>
			<div class="col-sm-5">
				Какие методы оптимизации баз данных вы знаете (использовали)?
			</div>
			<div class="col-sm-6">
				<ul>
					<li>Нормализация базы данных</li>
					<li>Добавление необходимых индексов</li>
					<li>Удаление индексов которые не используются</li>
					<li>Оптимизация запросов к БД</li>
					<li>Правильно определить типы полей</li>
					<li>Удаление лишних данных</li>
					<li>Вертикальное разделение таблиц, если есть поля которые редко используются</li>
				</ul>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">16.</div>
			<div class="col-sm-5">
				Приведите пример mysql запроса который вернет данные из таблицы с наибольшим индексом, не используя при это MAX()
			</div>
			<div class="col-sm-6">
				<code>SELECT * FROM users ORDER BY age DESC LIMIT 1</code>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">17.</div>
			<div class="col-sm-5">
				Как избежать дублирования данных в текстовом поле при вставке в mysql таблицу?
			</div>
			<div class="col-sm-6">
				Добавить UNIQUE INDEX к этому поля. <br> В таком случае MySQL выдаст ошибку при попытке вставить уже существующее значение.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">18.</div>
			<div class="col-sm-5">
				Как создать объект в javascript? Как создать методы для объекта?
			</div>
			<div class="col-sm-6">
				<pre>
					<code>		
const obj1 = {
	method: () => {}
};

const obj2 = new Object();
obj2.method = () => {}

function myConstructorFunction(param) {
	this.value = param
	this.method = () => {}
}
const obj3 = new myConstructorFunction('obj3')


class MyClass {
	method(){
		return 1
	}
}
const obj4 = new MyClass();
					</code>
				</pre>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">19.</div>
			<div class="col-sm-5">
				Как на javascript создать на страничке html форму, с одним текстовым полем и одной кнопкой submit?
			</div>
			<div class="col-sm-6">
				<div id="root"></div>
				<pre>
					<code>
const form = document.createElement("form");
form.setAttribute("method", "post");
form.setAttribute("action", "submit.php");

const input = document.createElement("input");
input.setAttribute("type", "text");
input.setAttribute("name", "query");
input.setAttribute("placeholder", "Search...");

const submit = document.createElement("input");
submit.setAttribute("type", "submit");
submit.setAttribute("value", "Search");

form.appendChild(input);
form.appendChild(submit);
document.getElementById('form_root').appendChild(form);	
					</code>
				</pre>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">20.</div>
			<div class="col-sm-5">
				Что выведет код и почему:
				<pre>
					<code>
var a = {prop: 1};
function func1(a) {
	a.prop++;
}
func1(a);
console.log(a.prop);
					</code>
				</pre>
			</div>
			<div class="col-sm-6">
				Выведет 2. Так как объекты передаются внутрь функции по ссылке.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">21.</div>
			<div class="col-sm-5">
				Что выведет код и почему:
				<pre>
					<code>
var a = 1;
console.log(a++ + ++a);		
					</code>
				</pre>
			</div>
			<div class="col-sm-6">
				Выведет 2. <br>
				a++ сначала вернет 1 потом увеличит на 1<br>
				++a сначала увеличит на 1 и вернет 3<br>
				1 + 3 = 4
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">22.</div>
			<div class="col-sm-5">
				Как в javascript рапарсить json?
			</div>
			<div class="col-sm-6">
				JSON.parse()
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">23.</div>
			<div class="col-sm-5">
				Приведите пример кода, который преобразует число (может быть как числового типа, так и строка) в строку, оставляя после запятой 2 знака, заменяя разделитель "." на ",", вставляет пробел после каждых 3-х чисел до запятой (тысяча, миллион, ...)
			</div>
			<div class="col-sm-6">
				<pre>
					<code>
parseFloat('11321321.2132').toFixed(2).replace('.', ',').replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1 ');
					</code>
				</pre>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">24.</div>
			<div class="col-sm-5">
				Объяснить что такое MVC (HMVC) / MVVM. Есть ли разница между MVC и MVVM? Если да, то в чём?
			</div>
			<div class="col-sm-6">
				Не сталкивался с MVVM. Знаю что этот паттерн применяется в Angular.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">25.</div>
			<div class="col-sm-5">
				Зачем нужны интерфейсы классов?
			</div>
			<div class="col-sm-6">
				Интерфейс содержит список методов которые необходимо реализовать в наследуемом классе.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">26.</div>
			<div class="col-sm-5">
				Что такое декоратор?
			</div>
			<div class="col-sm-6">
				Паттерн проектирования. Используется для динамического расширения функциональности объекта. Является гибкой альтернативой наследованию.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">27.</div>
			<div class="col-sm-5">
				Что такое Dependency Injection, в чём его суть? Плюсы и минусы
			</div>
			<div class="col-sm-6">
				Это стиль настройки объекта, при котором поля объекта задаются внешней сущностью. Другими словами, объекты настраиваются внешними объектами <br>
				Пример из User контроллера laravel:
				<pre>
					<code>
public function update(Request $request, User $user)
{

}
					</code>
				</pre>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">29.</div>
			<div class="col-sm-5">
				Что такое DRY?
			</div>
			<div class="col-sm-6">
				DRY — don’t repeat yourself / не повторяйте себя <br>
				Принцип программирования при котором следует избегать повторяющихся участков кода.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">30.</div>
			<div class="col-sm-5">
				Что такое PSR?
			</div>
			<div class="col-sm-6">
				Стандарты по написанию кода в php. Широко применются разработчиками, но носят рекомендательный характер.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">31.</div>
			<div class="col-sm-5">
				Что такое DTO?
			</div>
			<div class="col-sm-6">
				Data Transfer Object - это объект, который используется для инкапсуляции данных и отправки их из одной подсистемы приложения в другую. Пример:
				<pre>
					<code>
// отправка уведомления
$user->notify(new InvoicePaid($invoice));	
					</code>
				</pre>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">32.</div>
			<div class="col-sm-5">
				Сколько примерно времени у Вас займет написание простой html формы (5 полей), которая отправляет данные используя ajax на сервер, на php данные обрабатываются и вставляются в базу, ответ от сервера обрабатывает javascript?
			</div>
			<div class="col-sm-6">
				Если делать на скорость, то минут 30. <br>
				Если на качество (дизайн, валидация) то пара часов.
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">33.</div>
			<div class="col-sm-5">
				Есть ли опыт работы с WordPress. <br>
				Если есть, распишите подробно.
			</div>
			<div class="col-sm-6">
				Начинал изучать веб-разработку с верстки шаблонов и натяжки на WordPress. <br>
				Устанавливал и настраивал плагины. <br>
				<p>
					Много занимался парсингом: <br>
					<span class="ms-5 d-block">
						https://gig-games.de/ -
						Каталог игр стим 
					</span>
					<span class="ms-5 d-block">
						https://modetoday.de/ -
						Каталог товаров ebay 
					</span>
				</p>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">34.</div>
			<div class="col-sm-5">
				Приведите список проектов, над которыми вы работали, и причины по которым с них ушли.
			</div>
			<div class="col-sm-6">
				<p>
					Я занимаюсь фрилансом и это в основном проектная работа. <br>
					Сделал задачу пошел на следующий проект.
				</p>
				http://gig-games.de/ - html-coding and integration to WordPress <br>

				https://hundefutteruvm.de/cdvet/ - html-coding and integration to WordPress <br>

				https://modetoday.de/ - html-coding and integration to WordPress <br>

				https://www.cdvet.de/ - html, css, javaScript fixes <br>

				https://cleancos.de/ - adding new functionality and support <br>

				http://koeln-webstudio.de/ - html-coding and programming <br>
			</div>
		</div>

		<div class="row mb-5">
			<div class="col-sm-1 border-bottom list-num">35.</div>
			<div class="col-sm-5">
				Пришлите пару примеров своего кода
			</div>
			<div class="col-sm-6">
				GitHub: <a href="https://github.com/aniqdev">https://github.com/aniqdev</a>
			</div>
		</div>

	</div>

<script src="hljs/highlight.min.js"></script>
<script>
document.querySelectorAll('pre code').forEach((el) => {
	hljs.highlightElement(el);
});
</script>
</body>
</html>